---
modules:
    gearmand:
        module: wishbone.input.gearmand
        arguments:
            hostnames:
                - your.gearmand.server.hostname
            secret: changemechangeme
            workers: 1

    decode:
        module: metricfactory.decoder.modgearman

    encode:
        module: metricfactory.encoder.graphite
        arguments:
            prefix: nagios

    buffer:
        module: wishbone.builtin.flow.tippingbucket
        arguments:
            events: 1000
            age: 10

    tcp:
        module: wishbone.output.tcp
        arguments:

routingtable:

    - gearmand.outbox   -> decode.inbox
    - decode.outbox     -> encode.inbox
    - encode.inbox      -> buffer.inbox
    - buffer.outbox     -> tcp.inbox
...